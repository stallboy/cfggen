---
layout: page
title: å‘½ä»¤è¡Œ
parent: é…è¡¨ç³»ç»Ÿ
nav_order: 1
---

# ğŸ“Ÿ å‘½ä»¤è¡Œ

```bash
Usage: java -jar cfggen.jar [options] [-tool toolname[,param=value...]] -datadir <dir> [-gen genname[,param=value...]]

   or: java -jar cfggen.jar  (launch GUI)

Parameters can be in any order, but -datadir is required when using generators.
ä»¥ä¸‹tool/genå‚æ•°ä¹‹é—´ç”±,åˆ†å‰²,å‚æ•°åå’Œå‚æ•°å–å€¼ä¹‹é—´ç”±=æˆ–:åˆ†å‰²

-----language & logging options
    -locale           locale, default system locale
    -v                verboseï¼Œçº§åˆ«1ï¼Œè¾“å‡ºç»Ÿè®¡å’Œwarningä¿¡æ¯
    -vv               verboseï¼Œçº§åˆ«2ï¼Œè¾“å‡ºé¢å¤–ä¿¡æ¯
    -p                profilerï¼Œå†…å­˜å’Œæ—¶é—´ç›‘æµ‹
    -pp               profilerï¼Œå†…å­˜ç›‘æµ‹å‰åŠ gc
    -nowarn           ä¸æ‰“å°è­¦å‘Šä¿¡æ¯ï¼Œé»˜è®¤æ‰“å°
    -weakwarn         æ‰“å°å¼±è­¦å‘Šï¼Œé»˜è®¤ä¸æ‰“å°

-----tools
    -tool xmltocfg   è¿ç§»ï¼ˆæŠŠä¹‹å‰çš„.xmlæ”¹ä¸º.cfgï¼‰
        datadir=.
    -tool fastexcelcheck fastexcelåº“å’Œpoiåº“æ¯”è¾ƒ
        datadir=.
        csvencoding=GBK
        headrow=2
    -tool readjavadata javadataæ•°æ®è¯»å–
        javadata=config.data
        match=null
    -tool term       æŸ¥çœ‹æœ¯è¯­ï¼Œæˆ–æ£€æŸ¥æœ¯è¯­ä½¿ç”¨æƒ…å†µ
        todo=null
        term=null
        check                ,é»˜è®¤ä¸ºfalse
        checkall             ,é»˜è®¤ä¸ºfalse
    -tool translate  æ ¹æ®ç›¸ä¼¼è¯­å¥å’Œç›¸å…³æœ¯è¯­ç¿»è¯‘todoæ–‡ä»¶
        source=ä¸­æ–‡
        target=è‹±æ–‡
        todo=language/_todo_en.xlsx
        term=null
        ai=ai.json
        prompt=null
        batch=10
    -tool usage      print usage help

-----schema & data
    -datadir          é…è¡¨æ ¹ç›®å½•ï¼Œç›®å½•ä¸‹æœ‰æ–‡ä»¶config.cfg
    -headrow          csv/Excelæ–‡ä»¶é‡Œæ•°æ®å¤´è¡Œæ•°, é»˜è®¤ä¸º2
    -encoding         csvç¼–ç ï¼Œé»˜è®¤æ˜¯GBKï¼Œå¦‚æœæ–‡ä»¶ä¸­å«æœ‰bomåˆ™ç”¨bomæ ‡è®°çš„ç¼–ç 
    -asroot           å…¼å®¹ä¹‹å‰çš„ç›®å½•ç»“æ„ï¼Œæœ‰ClientTablesã€PublicTablesã€ServerTablesç›®å½•ï¼Œç›®å½•ä¸‹æ˜¯.txtåç¼€çš„tsvæ–‡ä»¶ã€‚è¿™é‡Œå¯ä»¥é…ç½®ä¸º'ClientTables:noserver,PublicTables,ServerTables:noclient',é…åˆgençš„own:-noclientæ¥æå–
    -exceldirs        excelç›®å½•ï¼Œä»¥,åˆ†éš”
    -jsondirs         jsonç›®å½•ï¼Œä»¥,åˆ†éš”ï¼Œ-asrootã€-exceldirsã€-jsondirsä¸€æ—¦æœ‰ä¸€ä¸ªé…ç½®ï¼Œè¯´æ˜è¦æ˜ç¡®åªç”¨-datadirä¸‹çš„éƒ¨åˆ†ç›®å½•ï¼Œè€Œä¸æ˜¯å…¨éƒ¨ã€‚

-----i18n support
    -i18nfile         å›½é™…åŒ–éœ€è¦çš„æ–‡ä»¶ï¼Œå¦‚æœä¸ç”¨å›½é™…åŒ–ï¼Œå°±ä¸è¦é…ç½®
    -langswitchdir    å›½é™…åŒ–å¹¶ä¸”å¯éšæ—¶åˆ‡æ¢è¯­è¨€
    -defaultlang      langswitchdirè®¾ç½®æ—¶æœ‰æ•ˆï¼Œè¡¨ç¤ºé»˜è®¤çš„è¯­è¨€ï¼Œé»˜è®¤ä¸ºzh_cn


-----generators
    -gen verify      æ£€éªŒæ•°æ®
    -gen search      æœç´¢æ•°æ®
        own=null
        to=null
        q=null
            int <int> <int> ...: search integers
            str <str>: search string
            ref <refTable<[uniqKeys]>?> <IgnoredTables>: search ref
            sl  <name>?: list name of schemas
            sll <name>?: list schemas
            slljson <name>?: list schemas. use json
            h: help
            q: quit
    -gen i18n        ç”Ÿæˆç¿»è¯‘æ–‡ä»¶ï¼ˆæ–¹æ¡ˆ1ï¼šby æ–‡æœ¬ï¼‰
        file=../i18n/en.csv  ç”Ÿæˆæ–‡ä»¶
    -gen i18nbyid    ç”Ÿæˆç¿»è¯‘æ–‡ä»¶ï¼ˆæ–¹æ¡ˆ2ï¼šby idï¼‰
        dir=../i18n/en       ç›®å½•
        backup=../backup     å¤‡ä»½ç›®å½•
        checkWrite           æµ‹è¯•fastexcelçš„xlsxæ–‡ä»¶å†™å…¥æ˜¯å¦æ­£ç¡®ï¼ˆç”¨å†è¯»å–ä¸€æ¬¡ï¼Œç„¶åæ¯”è¾ƒçš„æ–¹å¼ï¼‰,é»˜è®¤ä¸ºfalse
    -gen java        ç”Ÿæˆjavaä»£ç 
        own=null
        dir=config           ç›®å½•
        pkg=config           åŒ…å
        encoding=UTF-8       ç”Ÿæˆä»£ç æ–‡ä»¶çš„ç¼–ç 
        sealed               ç”Ÿæˆsealed interfaceï¼Œéœ€è¦java17,é»˜è®¤ä¸ºfalse
        builders=null        æŒ‡å‘txtæ–‡ä»¶ï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªtableï¼Œå¯¹è¿™äº›tableç”Ÿæˆå¯¹åº”çš„builder
        schemanumperfile=100 å½“é…è¡¨æ•°é‡è¿‡å¤šæ—¶ç”Ÿæˆçš„ConfigCodeSchemaä¼šè¶…è¿‡javaç¼–è¯‘å™¨é™åˆ¶ï¼Œç”¨æ­¤å‚æ•°æ¥åˆ†æ–‡
    -gen javadata    ç”Ÿæˆjavaä»£ç éœ€è¦çš„æ•°æ®
        own=null
        file=config.data     æ–‡ä»¶å
    -gen cs          ç”Ÿæˆc#ä»£ç 
        own=null
        dir=Config           ç›®å½•
        pkg=Config           åŒ…å
        encoding=GBK         ç”Ÿæˆæ–‡ä»¶çš„ç¼–ç 
        prefix=Data          ç”Ÿæˆç±»çš„å‰ç¼€
    -gen bytes       ç”Ÿæˆc#/ts/goä»£ç éœ€è¦çš„æ•°æ®
        own=null
        file=config.bytes    æ–‡ä»¶å
        cipher=              xoråŠ å¯†
        stringpool           ,é»˜è®¤ä¸ºfalse
    -gen lua         ç”Ÿæˆluaä»£ç ï¼ˆæ•°æ®ä¹Ÿæ˜¯ä»£ç ï¼‰
        own=null
        dir=.                ç”Ÿæˆä»£ç æ‰€åœ¨ç›®å½•
        pkg=cfg              æ¨¡å—åç§°
        encoding=UTF-8       ç¼–ç 
        emmylua              æ˜¯å¦ç”ŸæˆEmmyLuaç›¸å…³çš„æ³¨è§£,é»˜è®¤ä¸ºfalse
        preload              æ˜¯å¦ä¸€å¼€å§‹å°±å…¨éƒ¨åŠ è½½é…ç½®ï¼Œé»˜è®¤ç”¨åˆ°çš„æ—¶å€™å†åŠ è½½,é»˜è®¤ä¸ºfalse
        sharedemptytable     æ˜¯å¦æå–ç©ºtable {},é»˜è®¤ä¸ºfalse
        shared               æ˜¯å¦æå–éç©ºçš„å…¬å…±table,é»˜è®¤ä¸ºfalse
        packbool             æ˜¯å¦è¦æŠŠåŒä¸€ä¸ªç»“æ„é‡Œçš„å¤šä¸ªboolå‹ç¼©æˆä¸€ä¸ªint,é»˜è®¤ä¸ºfalse
        rforoldshared        ä»¥å‰Rç”¨äºä¿®é¥°shared tableï¼Œç°åœ¨é»˜è®¤è¡Œä¸ºæ”¹ä¸ºRä¿®é¥°listï¼Œmap,é»˜è®¤ä¸ºfalse
        nostr                åªç”¨æ¥æµ‹è¯•å­—ç¬¦ä¸²å ç”¨å†…å­˜å¤§å°,é»˜è®¤ä¸ºfalse
    -gen ts          ç”Ÿæˆtypescriptä»£ç 
        own=null
        file=Config.ts
        pkg=Config
        encoding=UTF-8       tsæ–‡ä»¶ç¼–ç 
    -gen go          ç”Ÿæˆgoä»£ç 
        own=null
        dir=config
        pkg=config
        encoding=GBK
        mod=null
    -gen tsschema    ç”Ÿæˆç‰¹å®štableçš„schemaï¼ˆç”¨tsæ¥è¡¨è¾¾ï¼‰
        own=null
        table=
        refs=
        dst=.                ç›®æ ‡ç›®å½•
        encoding=UTF-8       ç”Ÿæˆçš„tsæ–‡ä»¶ç¼–ç 
    -gen json        æŠŠç‰¹å®štableé‡Œæ•°æ®è¾“å‡ºä¸ºjson
        own=null
        tables=              è¡¨åï¼Œ;åˆ†å‰²
        dst=.                jsonæ–‡ä»¶è¾“å‡ºç›®å½•
    -gen server      ä¸ºcfgeditorç¼–è¾‘å™¨æä¾›server
        own=null
        port=3456            ä¸ºcfgeditor.exeæä¾›æœåŠ¡çš„ç«¯å£
        note=_note.csv       éjsonè®°å½•çš„æ ‡æ³¨å­˜å‚¨ä½ç½®
        watch=0              x>0è¡¨ç¤ºæ•°æ®æ–‡ä»¶ä¿®æ”¹xç§’åè‡ªåŠ¨é‡è½½é…ç½®
        postrun=null         xx.batæˆ–xx.shï¼Œç”¨äºé‡è½½é…ç½®åçš„é¢å¤–åŠ¨ä½œï¼Œ .batæœ€å¼€å§‹å¤šè¡Œçš„æ³¨é‡Šå¯æœ‰':: -gen 'ç”¨å½“å‰ä¸Šä¸‹æ–‡ç”Ÿæˆï¼Œ.shåˆ™æ˜¯'# -gen '
    -gen mcpserver   ä¸ºai agentæ¯”å¦‚claude codeæä¾›mcpæœåŠ¡
        own=null
        port=3457
        watch=0
        postrun=null
    -gen byai        æ‰¹é‡ç”Ÿæˆå•ä¸ªtableçš„æ•°æ®
        cfg=ai.json          åŒ-gen serveré‡Œçš„aiCfg
        ask=ask.txt          é—®é¢˜ï¼Œæ¯è¡Œç”Ÿæˆä¸€ä¸ªjson
        table=skill.buff     è¡¨åç§°
        retry=1              é‡è¯•llmæ¬¡æ•°ï¼Œé»˜è®¤1ä»£è¡¨ä¸é‡è¯•
```

---

## ğŸ”§ Build & Test

### ç”Ÿæˆ cfggen.jar

```bash
genjar.bat  # ç”Ÿæˆcfggen.jar
```

```bash
mkexe.bat  # ç”Ÿæˆcfggen.zipï¼Œé‡Œé¢æœ‰exe
```

### æµ‹è¯• Javaï¼šç”Ÿæˆ java ä»£ç å’Œæ•°æ®

```bash
cd example
genjavasealed.bat # genjava ä¹Ÿå¯ä»¥ï¼Œsealedéœ€è¦java 17æˆ–ä»¥ä¸Šæ‰æ”¯æŒ
```

### æµ‹è¯• Javaï¼šæ£€éªŒ java ç”Ÿæˆ

```bash
gradle build
java -jar build/libs/example.jar # è¿›å…¥å‘½ä»¤è¡Œï¼Œè¾“å…¥qé€€å‡ºï¼Œè¾“å…¥å…¶ä»–æ¯”å¦‚aiä¼šæ‰“å°è¡¨åç§°ä»¥aiå¼€å¤´çš„ç»“æ„å®šä¹‰å’Œæ•°æ®
```

### æµ‹è¯• Lua

```bash
genlua.bat
cd lua
chcp 65001
lua.exe test.lua
```

### æµ‹è¯• CSharp

```bash
gencshape.bat
cd cs
dotnet run
```

### æµ‹è¯• Go

```bash
gengo.bat
cd go
go run .
```

### æµ‹è¯• TypeScript

```bash
gents.bat
cd ts
pnpm i -D tsx
npx tsx main.ts
```

