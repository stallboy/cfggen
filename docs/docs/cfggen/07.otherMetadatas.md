---
layout: page
title: metadata
parent: é…è¡¨ç³»ç»Ÿ
nav_order: 7
---


# ğŸ›ï¸ metaæ‚é¡¹è®¾ç½®

## ğŸ”„ columnMode

åœ¨tableçš„metaé‡Œå¯é…ç½®columnModeï¼Œç”¨äºæ–¹ä¾¿é…ç½®[æ¨¡å—å‚æ•°è¡¨]

## ğŸ“„ extraSplit

åœ¨tableçš„metaé‡Œå¯é…ç½®extraSplit

ä¸ºç”Ÿæˆluaæ–‡ä»¶æ—¶æ˜¯å¦ä¸ºæ•°æ®ç”Ÿæˆå¤šä¸ªæ–‡ä»¶ï¼Œé»˜è®¤ä¸º0ã€‚å‡å¦‚æ•°æ®é¡¹æœ‰250è¡Œï¼ŒextraSplité…ç½®ä¸º100ï¼Œåˆ™åˆ†ä¸º3ä¸ªæ–‡ä»¶ï¼Œä¼šé¢å¤–å¤šå‡º1,2ä¸¤ä¸ªæ–‡ä»¶ï¼ŒåŸæ–‡ä»¶å’Œ1å„100è¡Œï¼Œ2å«50è¡Œã€‚

- å¼•å…¥è¿™ä¸ªæ˜¯å› ä¸ºluaç”Ÿæˆassets.luaæ—¶æŠ¥é”™ï¼Œassets.luaæ˜¯èµ„æºç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢ä¼šåŒ…å«å¾ˆå¤šè¡Œï¼Œå› ä¸ºluaå•ä¸ªæ–‡ä»¶ä¸èƒ½å¤šä½™65526ä¸ªconstantï¼Œç”Ÿæˆluaæ–‡ä»¶ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥è¿™é‡Œåˆ†å‰²ä¸€ä¸‹
- è¿˜æœ‰ä¸ªå¥½å¤„æ˜¯çƒ­æ›´æ—¶å‡å°‘ä¸‹è½½æ–‡ä»¶å¤§å°ï¼Œæ¯”å¦‚itemè¡¨æœ‰10000ä¸ªï¼Œèµ·å§‹å¤§éƒ¨åˆ†æƒ…å†µä¸‹çƒ­æ›´æ—¶å°±æ”¹å‡ è¡Œï¼Œå¦‚æœä¸splité‚£å°±çƒ­æ›´æ•´ä¸ªæ–‡ä»¶ï¼Œå¦‚æœsplitæˆäº†5ä¸ªæ–‡ä»¶ï¼Œé‚£å¾ˆå¯èƒ½å°±åªç”¨çƒ­æ›´è¿™5ä¸ªä¸­çš„ä¸€ä¸ªï¼Œå‡å°‘äº†çƒ­æ›´å¤§å°ã€‚

## ğŸ“‹ json

åœ¨tableä¸Šè®¾ç½®

ä»£è¡¨æ­¤è¡¨ä¸­æ•°æ®å­˜æˆä¸€ä¸ªä¸ªjsonæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç¼–è¾‘å™¨cfgeditorç¼–è¾‘


```
table effect[id] (json) {
	id:int;
	text:str;
	logic:EffectLogic;
}
```



## ğŸ·ï¸ title

åœ¨tableä¸Šè®¾ç½®ï¼Œè®¾ç½®ä¸ºæœ¬tableçš„ä¸€ä¸ªfieldåç§°ã€‚

ç”¨äºç¼–è¾‘å™¨cfgeditorä¸­æ˜¾ç¤ºidçš„æ—¶å€™ï¼Œè‡ªåŠ¨å¸¦ä¸Štitleè¿™ä¸€åˆ—

```
table effectclass[name] (enum='name', title='text') {
	name:str;
	text:str;
}
```

## ğŸ“ description

åœ¨tableä¸Šè®¾ç½®ï¼Œè®¾ç½®ä¸ºæœ¬tableçš„fieldåç§°ï¼Œå¯ä»¥åŒ…å«å¤šåˆ—ï¼Œç”¨,åˆ†éš”ã€‚

ç”¨äºç¼–è¾‘å™¨cfgeditorä¸­æ˜¾ç¤ºä¸€è¡Œç®€ç•¥è§†å›¾æ—¶ï¼Œå±•ç¤ºè¿™äº›æè¿°

## ğŸ”— refTitle

åœ¨å¤–é”®ä¸Šè®¾ç½®ï¼ˆå¤§å¤šæ•°æ˜¯åœ¨fieldä¸Šï¼Œå› ä¸ºå…¶å†…å«å¤–é”®ï¼‰ï¼Œè®¾ç½®ä¸ºæœ¬ç»“æ„çš„fieldåç§°ã€‚

ç”¨äºç¼–è¾‘å™¨cfgeditorå±•ç¤ºé“¾æ¥çš„æ—¶å€™ï¼Œé“¾æ¥çº¿å±•ç¤ºä¸ºæœ¬fieldå¯¹åº”çš„å€¼ã€‚é»˜è®¤ä¸ºrefXxxã€‚

## ğŸŒ lang

åœ¨tableä¸Šè®¾ç½®ï¼Œå›½é™…åŒ–æ–¹æ¡ˆ2 ç”Ÿæˆexcelæ—¶ï¼Œç¬¬ä¸€åˆ—æ˜¯ä¸»é”®ï¼Œç¬¬äºŒåˆ—é¢å¤–åŠ ä¸Šè¿™ä¸€åˆ—ï¼Œè¾…åŠ©ç¿»è¯‘äººå‘˜ã€‚



## ğŸ“„ cfgæ–‡ä»¶æ ¼å¼

<details markdown="block">
<summary>cfgæ–‡ä»¶çš„antlrv4å®šä¹‰å¤§è‡´å¦‚ä¸‹ï¼Œç†Ÿæ‚‰bnfæ ¼å¼çš„ï¼Œå¯ä»¥å‚è€ƒ</summary>


```

grammar Cfg ;

schema : schema_ele* EOF ;

schema_ele: struct_decl | interface_decl | table_decl ;

struct_decl : STRUCT ns_ident metadata LC COMMENT? field_decl* foreign_decl*  RC ;

STRUCT: 'struct';

interface_decl : INTERFACE ns_ident metadata LC COMMENT? struct_decl+ RC ;

INTERFACE: 'interface';

table_decl : TABLE ns_ident key metadata LC COMMENT? key_decl* field_decl* foreign_decl*  RC ;

TABLE: 'table';

field_decl : identifier COLON type_ ( ref )? metadata SEMI COMMENT? ;

foreign_decl: REF identifier COLON key ref metadata SEMI COMMENT? ;

type_ : TLIST '<' type_ele '>' |  TMAP '<' type_ele ','  type_ele '>' | type_ele;

type_ele : TBASE | ns_ident;

TLIST : 'list';
TMAP: 'map';
TBASE : 'bool' | 'int' | 'long' | 'float' | 'str' | 'res' | 'text' ;

ref:  (REF | LISTREF) ns_ident key? ;

REF: '->';
LISTREF: '=>';

key_decl : key SEMI ;

key: '[' identifier (',' identifier)* ']' ;

COMMENT: '//' ~[\r\n]* ;

metadata : ( LP ident_with_opt_single_value ( COMMA ident_with_opt_single_value )* RP )? ;

ident_with_opt_single_value : identifier (EQ single_value)? |  minus_ident;

minus_ident: MINUS identifier;

single_value : INTEGER_CONSTANT | HEX_INTEGER_CONSTANT | FLOAT_CONSTANT | STRING_CONSTANT ;

ns_ident : identifier ( DOT identifier )* ;

identifier: IDENT | keywords;

IDENT : [a-zA-Z_] [a-zA-Z0-9_]* ;

keywords: STRUCT | INTERFACE | TABLE | TLIST | TMAP | TBASE;

```


</details>
