---
title: 介绍
description: 配置编辑器功能介绍和使用指南
sidebar:
  order: 1
---

配置编辑器是一个基于节点的可视化配置编辑工具,旨在简化游戏开发中复杂数据结构的浏览和编辑工作。通过图形化界面,您可以直观地查看表结构、浏览记录、编辑数据,并可视化展示记录之间的关联关系。

---

##  功能概述

### 核心功能

- ** 可视化浏览**
  - 表结构图形化展示,直观理解数据模型
  - 表与表之间关系的可视化
  - 记录之间引用关系的图形化展示

- **️ 数据编辑**
  - 直接编辑记录数据
  - 添加新记录
  - 删除记录
  - JSON 批量导入

- ** 强大的搜索**
  - 快速查找记录
  - 全文搜索
  - 跳转到指定记录

- ** AI 辅助**
  - AI 聊天界面
  - 智能生成配置数据

- **️ 数据一致性检测**
  - 未引用记录检测
  - 引用完整性验证

---

##  服务器配置

启动后端服务器时,可以使用以下参数自定义服务器行为:

| 参数 | 说明 | 示例值 |
|------|------|--------|
| `port` | 服务器监听的端口号，cfgeditor 将通过此端口连接 | `port=3456` |
| `note` | 存储非 JSON 格式标注信息的位置 | `note=_note.csv` |
| `watch` | 文件监控间隔（秒），大于 0 时自动重载修改后的配置文件 | `watch=5` |
| `postrun` | 配置重载后执行的脚本文件路径 | `postrun=reload.bat` |

**启动示例**:
```bash
java -jar cfggen.jar -datadir . -gen server,port=3456,watch=5
```

---

##  界面介绍

### 主界面布局

编辑器采用分割面板设计,可以同时查看多个视图:

- **左侧面板**: 导航菜单和页面选择
- **主工作区**: 可分割的多个页面视图
- **设置面板**: 可视化配置和应用设置

### 页面切换

cfgeditor 提供了两种不同的视图模式,方便您从不同角度查看数据:

- **数据视图**: 显示实际的配置记录内容(默认视图)
- **结构视图**: 显示数据表的结构定义(schema)

通过界面顶部的切换按钮,您可以轻松在两种视图间切换。

### 编辑模式

要开始编辑数据,只需在主界面中右键点击,然后从弹出的菜单中选择编辑选项。

### 主要视图类型

#### 1️⃣ 表视图 (Table View)

![表结构界面](table.png)
*图:展示数据库表结构和表之间的关联关系*

**功能**:
- 图形化展示所有表及其结构
- 显示表与表之间的外键关系
- 点击表名可查看该表的记录列表

#### 2️⃣ 记录视图 (Record View)

![查看记录界面](view.png)
*图:查询单个记录的详细信息*

**功能**:
- 输入记录 ID 查看具体记录
- 显示记录的所有字段和数据
- 支持折叠/展开复杂结构
- 显示记录的引用关系

#### 3️⃣ 记录编辑视图 (Edit View)

![编辑记录界面](edit.png)
*图:编辑单个记录的字段数据*

**功能**:
- 修改记录的字段值
- 保存修改到后端
- 自动验证数据类型
- 支持复杂结构的编辑

#### 4️⃣ 记录关系视图 (Record Reference View)

![记录关系图](viewRef.png)
*图:可视化展示记录之间的关联关系*

**功能**:
- 以图形方式显示当前记录的引用
- 显示被哪些记录引用(反向引用)
- 支持多级引用展开
- 点击节点跳转到对应记录

#### 5️⃣ 表关系视图 (Table Reference View)

![表关系图](tableRef.png)
*图:展示表与表之间的外键关系*

**功能**:
- 显示所有表的外键引用关系
- 区分主键、唯一键、外键
- 帮助理解数据模型

---

## ️ 基本操作

### 连接服务器

首次使用需要配置后端服务器地址:

1. 打开编辑器
2. 点击设置按钮
3. 配置服务器地址 (默认: `http://localhost:3456`)
4. 保存设置

### 查看记录

1. **在表视图中点击表名**
   - 显示该表的所有记录列表
   - 点击记录 ID 查看详情

2. **直接输入记录 ID**
   - 切换到记录视图
   - 选择表名和记录 ID
   - 点击查询

### 导航功能

#### 主导航
界面的左上角是主要导航区域:
- **表选择**: 下拉菜单,用于在不同数据表之间切换
- **ID 选择**: 输入框,用于快速定位特定记录

#### 关联数据
当您查看某条记录时,系统会自动显示与该记录相关联的其他记录列表,方便您查看数据间的关联关系。

#### 历史记录
cfgeditor 会记录您的操作历史:
- **访问历史**: 查看您最近访问过的记录
- **修改历史**: 查看每条记录的修改历史,了解数据变更过程

#### 关系图导航
关系图功能让您能够以可视化方式查看和导航数据间的关联关系。

**设置关系图**:
1. 在右侧视图中查看当前记录的关系图
2. 点击"固定当前页面"按钮
3. (可选)修改关系图的目录名称
4. 点击"设置固定页面"保存关系图配置

设置好关系图后,您只需双击左侧关系图中的任意记录节点,右侧就会自动打开对应的记录供您编辑。

### 编辑记录

1. 打开要编辑的记录
2. 点击编辑按钮进入编辑模式
3. 修改字段值
4. 点击保存

### 添加新记录

cfgeditor 提供了多种方式来新增配置记录:

#### 方法一:编辑后更新(推荐)
这是最常用的方式:
1. 在编辑界面修改记录内容
2. 点击"更新"按钮
   - **更新操作**: 如果记录 ID 已存在,系统会更新该记录
   - **新增操作**: 如果记录 ID 不存在,系统会创建新记录

#### 方法二:快速新增
当您首次使用某个数据表时,ID 搜索框会显示 "+new" 按钮,点击即可快速创建第一条记录。

#### 方法三:直接添加 JSON
对于熟悉 JSON 格式的用户,可以通过"设置" → "+" 菜单直接粘贴 JSON 数据来批量新增记录。

#### 方法四:AI 生成
参考 AI 生成章节,使用 AI 智能生成配置数据。

### 删除记录

要删除当前显示的记录:
1. 进入"设置" → "操作"菜单
2. 点击"删除当前数据"按钮

**️ 重要提示**: 删除操作**不可撤销**,请务必确认后再执行。建议在删除前先备份重要数据。

---

##  高级功能

### 未引用记录检测

![未引用记录检测](unreferenced.png)
*图:检测未被引用的孤立记录*

**功能**:
- 自动检测没有被其他记录引用的孤立数据
- 帮助清理无效配置
- 支持批量删除

### 节点导航

![节点导航](nav.png)
*图:在记录之间快速导航*

**功能**:
- 前进/后退导航历史 (Alt+C / Alt+V)
- 快速跳转到相关记录
- 支持键盘快捷键

### 搜索功能

![搜索界面](search.png)
*图:快速查找记录*

**功能**:
- 全文搜索
- 按表名过滤
- 按字段名过滤
- 实时显示搜索结果

### 记录查找器

![记录查找器](finder.png)
*图:高级查找功能*

**功能**:
- 多条件组合查询
- 支持外键关联查询
- 保存常用查询

### JSON 批量导入

![JSON 导入](addJson.png)
*图:批量导入 JSON 数据*

**功能**:
- 从 JSON 文件批量导入数据
- 自动验证数据格式
- 支持更新现有记录

---


##  常见问题

### Q: 编辑器无法连接到服务器?

**A**: 检查以下几点:
1. 确认后端服务器已启动: `java -jar cfggen.jar -datadir config -gen server`
2. 检查服务器地址配置 (默认: `http://localhost:3456`)
3. 检查防火墙设置

### Q: 如何自定义可视化样式?

**A**:
1. 打开设置面板
2. 进入"可视化配置"
3. 调整节点宽度、边样式、布局间距等参数
4. 实时预览效果

### Q: 支持哪些数据格式?

**A**:
- 输入: Excel (.xlsx, .xls), CSV, JSON
- 输出: JSON, 程序代码 (通过代码生成)

### Q: 如何部署为 Web 应用?

**A**:
```bash
cd cfgeditor
pnpm run build
cd dist
# 使用任意 Web 服务器部署 dist 目录
```

---

##  相关文档

- [快速开始](../quickstart/) - 配表系统快速入门指南
- [结构定义](../../core/schema/)
- [配置验证完整文档](../../core/verify/)
- [AI 生成配置](../../ai/overview/)
- [MCP 服务器集成](../../ai/mcpserver/)

